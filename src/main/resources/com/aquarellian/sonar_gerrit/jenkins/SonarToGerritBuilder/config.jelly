<?jelly escape-by-default='true'?>
<j:jelly xmlns:j="jelly:core" xmlns:f="/lib/form">
    <!--
      This jelly script is used for per-project configuration.

      See global.jelly for a general discussion about jelly script.
    -->

    <!--
      Creates a text field that shows the value of the "path" property.
      When submitted, it will be passed to the corresponding constructor parameter.
    -->

    <f:section title="Sonar settings">
        <f:entry title="Sonar Server URL" field="sonarURL">
            <f:textbox default="http://localhost:9000"/>
        </f:entry>
        <f:entry title="Path" field="path">
            <f:textbox default="target/sonar/sonar-report.json"/>
        </f:entry>
    </f:section>

    <f:section title="Filter settings">
        <!--<f:entry title="Choose severity level"-->
        <!--field="name">-->
        <!--<f:enum>${it.name}</f:enum>-->
        <!--</f:entry>-->
        <f:entry title="Report issues having severity level higher or equal to:" field="severity">
            <select name="severity">
                <option value="INFO">INFO</option>
                <option value="MINOR">MINOR</option>
                <option value="MAJOR" selected="true">MAJOR</option>
                <option value="CRITICAL">CRITICAL</option>
                <option value="BLOCKER">BLOCKER</option>
            </select>
        </f:entry>

        <f:entry title="Report new issues only?" field="newIssuesOnly"
                 description="Reports new as well as existing issues when unchecked">
            <f:checkbox checked="true"/>
        </f:entry>

        <f:entry title="Add comments to changed lines only" field="changedLinesOnly"
                 description="Reports issues for changed as well as not changed lines in files affected by patchset when unchecked">
            <f:checkbox checked="true"/>
        </f:entry>
    </f:section>
    <f:section title="Report formatting">
        <f:entry title="Title of review for no Sonar violations found case" field="noIssuesToPostText">
            <f:textbox default="Sonar violations have not been found."/>
        </f:entry>
        <f:entry title="Title of review for Sonar violations found case" field="someIssuesToPostText">
            <f:textbox default="&lt;total_count&gt; Sonar violations have been found."/>
        </f:entry>
        <f:entry title="Pattern for issue comment" field="issueComment">
            <f:textarea default="&lt;severity&gt; Sonar violation:

            &lt;message&gt;

            Read more: &lt;rule_url&gt;"/>
        </f:entry>
    </f:section>
</j:jelly>
